<%- include('partials/header'); -%>

<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>New Project</title>
  </head>

  <body>

    <div class="main">
      <div id="side-bar-container">
        <div class="side_bar">
          <div id="upper">
            <svg
              width="197"
              height="144"
              viewBox="0 0 197 144"
              fill="none"
              xmlns="http://www.w3.org/2000/svg"
            >
              <path
                d="M139.937 110.353L181 76.5216L141.22 45.9126M57.0633 110.353L16 76.5216L55.7801 45.9126M76.4213 134L128.408 10"
                stroke="#48CC75"
                stroke-width="19"
                stroke-linecap="round"
              />
            </svg>
            <h1>Personal Project</h1>
          </div>
          <svg
            id="side-bar-arrow"
            width="313"
            height="119"
            viewBox="0 0 313 119"
            fill="none"
            xmlns="http://www.w3.org/2000/svg"
          >
            <path
              d="M278 12H19.3309C9.20702 12 1 20.0589 1 30V119"
              stroke="url(#paint0_linear)"
              stroke-width="2"
            />
            <circle
              cx="288.5"
              cy="11.5"
              r="11.5"
              fill="#020f22"
              stroke-width="2"
            />
            <circle
              cx="288.5"
              cy="11.5"
              r="5.5"
              transform="rotate(90 288.5 11.5)"
              stroke="white"
              stroke-width="2"
            />
            <path
              d="M296 22L309 11.5L296.406 2"
              stroke="white"
              stroke-width="4"
              stroke-linecap="round"
            />
            <defs>
              <linearGradient
                id="paint0_linear"
                x1="274.945"
                y1="12"
                x2="5.87031"
                y2="118.306"
                gradientUnits="userSpaceOnUse"
              >
                <stop stop-color="white" />
                <stop offset="1" stop-color="#4B90F6" stop-opacity="0" />
              </linearGradient>
            </defs>
          </svg>
          <div id="developers-container">
            <h2>Developers:</h2>
            <div id="developers-bar">
              <div class="review-head dev">
                <div class="reviewer-cont dev">
                  <div class="review-title dev" id="user"><%= user %></div>
                  <div class="reviewer dev" style="font-family: sans-serif">
                    <span class="creating-developer-role" style="color: #66a3ff"></span>
                  </div>
                </div>
              </div>
            </div>
            <div class="project-title4">
              <input class="dev-input" type="text"placeholder="Username">
              <input class="role-input" type="text"placeholder="Role">
              <div onclick="addDev()">Add Developer</div>
              <div class="error-msg" id="devs_error"></div>
            </div>
          </div>
        </div>
      </div>
      <div class="content-border">
        <div class="content">
          <div class="slide_show">
            <div id="first-img">
              <input class="title-input" type="text" placeholder="first image link" id="projectFirstImg">
            </div>
            <div id="second-img" >
              <input class="title-input" type="text" placeholder="second image link" id = "projectSecondImg">
           </div>
          </div>
          <div class="project-info">
            <div id="logo-bar">
              <img onerror="this.onerror=null;this.src='assets/img placeholder.svg';" src="assets/img placeholder.svg" />
            </div>
            <div id="info-bar">
              <div class="project-title">
                <input class="title-input" type="text"placeholder="Project title" id="projectName">
                <input id="userRole" class="role-input" type="text"placeholder="Your role" onkeyup="changeRole(this)">
              </div>
              <div class="project-title3">
                <span>Start date:</span>
                <input class="date-input" type="date" id = "startDate">
                <span>End date:</span>
                <input class="date-input" type="date"  id = "endDate">
              </div>

              <div id="discreption">
                <svg
                  id="dis-border"
                  width="157"
                  height="112"
                  viewBox="0 0 157 112"
                  fill="none"
                  xmlns="http://www.w3.org/2000/svg"
                >
                  <g filter="url(#filter0_d)">
                    <line
                      x1="26.5"
                      y1="1"
                      x2="26.5"
                      y2="103"
                      stroke="url(#paint3_linear)"
                    />
                  </g>
                  <g filter="url(#filter1_d)">
                    <line
                      x1="5"
                      y1="28.5"
                      x2="152"
                      y2="28.5"
                      stroke="url(#paint1_linear)"
                    />
                  </g>
                  <defs>
                    <filter
                      id="filter0_d"
                      x="21"
                      y="0"
                      width="11"
                      height="112"
                      filterUnits="userSpaceOnUse"
                      color-interpolation-filters="sRGB"
                    >
                      <feFlood flood-opacity="0" result="BackgroundImageFix" />
                      <feColorMatrix
                        in="SourceAlpha"
                        type="matrix"
                        values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0"
                      />
                      <feOffset dy="4" />
                      <feGaussianBlur stdDeviation="2.5" />
                      <feColorMatrix
                        type="matrix"
                        values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.15 0"
                      />
                      <feBlend
                        mode="normal"
                        in2="BackgroundImageFix"
                        result="effect1_dropShadow"
                      />
                      <feBlend
                        mode="normal"
                        in="SourceGraphic"
                        in2="effect1_dropShadow"
                        result="shape"
                      />
                    </filter>
                    <filter
                      id="filter1_d"
                      x="0"
                      y="27"
                      width="157"
                      height="11"
                      filterUnits="userSpaceOnUse"
                      color-interpolation-filters="sRGB"
                    >
                      <feFlood flood-opacity="0" result="BackgroundImageFix" />
                      <feColorMatrix
                        in="SourceAlpha"
                        type="matrix"
                        values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0"
                      />
                      <feOffset dy="4" />
                      <feGaussianBlur stdDeviation="2.5" />
                      <feColorMatrix
                        type="matrix"
                        values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.15 0"
                      />
                      <feBlend
                        mode="normal"
                        in2="BackgroundImageFix"
                        result="effect1_dropShadow"
                      />
                      <feBlend
                        mode="normal"
                        in="SourceGraphic"
                        in2="effect1_dropShadow"
                        result="shape"
                      />
                    </filter>
                    <linearGradient
                      id="paint3_linear"
                      x1="25.0073"
                      y1="1"
                      x2="25.0073"
                      y2="103"
                      gradientUnits="userSpaceOnUse"
                    >
                      <stop stop-color="#4B90F7" stop-opacity="0" />
                      <stop offset="0.190625" stop-color="#4B90F7" />
                      <stop offset="1" stop-color="#4B90F7" stop-opacity="0" />
                    </linearGradient>
                    <linearGradient
                      id="paint1_linear"
                      x1="5"
                      y1="29.9927"
                      x2="152"
                      y2="29.9927"
                      gradientUnits="userSpaceOnUse"
                    >
                      <stop stop-color="#4B90F7" stop-opacity="0" />
                      <stop offset="0.190625" stop-color="#4B90F7" />
                      <stop offset="1" stop-color="#4B90F7" stop-opacity="0" />
                    </linearGradient>
                  </defs>
                </svg>
                <div id="third-img">
                 <input class="image-input" type="text" placeholder="project image link" id="logo">
                </div>
                <textarea onkeyup="adjustHeight(this)" placeholder="Project description" style="overflow:hidden" id="description"></textarea>
              </div>
            </div>
          </div>
          <div class="timeline-cont">
            <div class="left-title">
              <svg
                width="36"
                height="36"
                viewBox="0 0 36 36"
                fill="none"
                xmlns="http://www.w3.org/2000/svg"
              >
                <circle cx="18" cy="18" r="18" fill="#020F22" />
                <path
                  d="M17.697 9C17.0118 9 16.4563 9.5555 16.4563 10.2408V16.4563H10.2408C9.5555 16.4563 9 17.0118 9 17.6971C9 18.3824 9.5555 18.9378 10.2408 18.9378H17.697C18.3823 18.9378 18.9378 18.3823 18.9378 17.697V10.2408C18.9378 9.5555 18.3823 9 17.697 9Z"
                  fill="white"
                />
                <path
                  d="M17.933 3.86597C10.164 3.86597 3.866 10.164 3.866 17.933C3.866 25.702 10.164 32 17.933 32C25.702 32 32 25.702 32 17.933C31.9918 10.1675 25.6986 3.87427 17.933 3.86597ZM17.933 28.9904C11.2738 28.9904 6.87555 24.5921 6.87555 17.933C6.87555 11.2738 11.2738 6.87552 17.933 6.87552C24.5921 6.87552 28.9904 11.2738 28.9904 17.933C28.9833 24.5892 24.5892 28.9832 17.933 28.9904Z"
                  fill="white"
                />
              </svg>
              &nbsp; Timeline
            </div>
            <div class="timeline">
              <div class="project-title2">
                <input class="title-phase title-input" type="text"placeholder="Phase">
                <input class="desc-phase title-input" type="text"placeholder="Description">
              </div>
              <div class="project-title2">
                <span>Start date:</span>

              <input class="start-phase date-input" type="date" >
              <span>End date:</span>
              <input class="end-phase date-input" type="date" >
              <div onclick="addPhase()">Add phase</div>
            </div>

              <div class="phasedate-list">
              </div>
              <svg
                class="line-of-time"
                width="957"
                height="3"
                viewBox="0 0 957 3"
                fill="none"
                xmlns="http://www.w3.org/2000/svg"
              >
                <g filter="url(#filter5_d)">
                  <line
                    x1="953"
                    y1="1.5"
                    x2="4"
                    y2="1.5"
                    stroke="url(#paint7_linear)"
                    stroke-width="3"
                  />
                </g>
                <defs>
                  <filter
                    id="filter5_d"
                    x="0"
                    y="0"
                    width="957"
                    height="3"
                    filterUnits="userSpaceOnUse"
                    color-interpolation-filters="sRGB"
                  >
                    <feFlood flood-opacity="0" result="BackgroundImageFix" />
                    <feColorMatrix
                      in="SourceAlpha"
                      type="matrix"
                      values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0"
                    />
                    <feOffset dy="4" />
                    <feGaussianBlur stdDeviation="2" />
                    <feColorMatrix
                      type="matrix"
                      values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.25 0"
                    />
                    <feBlend
                      mode="normal"
                      in2="BackgroundImageFix"
                      result="effect1_dropShadow"
                    />
                    <feBlend
                      mode="normal"
                      in="SourceGraphic"
                      in2="effect1_dropShadow"
                      result="shape"
                    />
                  </filter>
                  <linearGradient
                    id="paint7_linear"
                    x1="953"
                    y1="-0.992664"
                    x2="4"
                    y2="-0.992794"
                    gradientUnits="userSpaceOnUse"
                  >
                    <stop stop-color="#4B90F7" stop-opacity="0" />
                    <stop offset="0.148958" stop-color="#4B90F7" />
                    <stop offset="0.836458" stop-color="#4B90F7" />
                    <stop offset="1" stop-color="#4B90F7" stop-opacity="0" />
                  </linearGradient>
                </defs>
              </svg>
              <div class="phase-list">
              </div>
            </div>
            <div class="error-msg" id="timeline_error"></div>
          <div class="timeline-cont">
            <div class="left-title">
            <svg width="36" height="36" xmlns="http://www.w3.org/2000/svg"  viewBox="0 0 512 512" fill="white"> <circle cx="256" cy="256" r="256" fill="#020F22" /> <path fill="white" d="m90.050781 395.949219c-7.167969 0-14.058593 1.789062-20.171875 5.148437-32.203125-41.28125-49.878906-92.5625-49.878906-145.097656 0-130.132812 105.867188-236 236-236 15.820312 0 31.632812 1.574219 47 4.679688 5.40625 1.09375 10.6875-2.40625 11.78125-7.820313s-2.40625-10.6875-7.820312-11.785156c-16.667969-3.367188-33.8125-5.074219-50.960938-5.074219-68.378906 0-132.667969 26.628906-181.019531 74.980469-48.351563 48.351562-74.980469 112.640625-74.980469 181.019531 0 57.519531 19.53125 113.652344 55.089844 158.652344-4.578125 6.839844-7.039063 14.878906-7.039063 23.296875 0 11.21875 4.371094 21.765625 12.304688 29.695312 7.929687 7.933594 18.476562 12.304688 29.695312 12.304688s21.765625-4.371094 29.699219-12.304688c7.933594-7.929687 12.300781-18.480469 12.300781-29.699219 0-11.214843-4.367187-21.765624-12.300781-29.695312-7.933594-7.933594-18.480469-12.300781-29.699219-12.300781zm15.554688 57.554687c-4.152344 4.15625-9.679688 6.445313-15.554688 6.445313s-11.398437-2.289063-15.554687-6.445313-6.445313-9.679687-6.445313-15.554687c0-5.878907 2.289063-11.402344 6.445313-15.558594 4.152344-4.15625 9.679687-6.441406 15.554687-6.441406s11.398438 2.289062 15.554688 6.441406c4.15625 4.15625 6.445312 9.679687 6.445312 15.558594 0 5.875-2.289062 11.398437-6.445312 15.554687zm0 0"/><path d="m456.902344 97.335938c10.871094-16.308594 9.125-38.605469-5.253906-52.984376-7.933594-7.929687-18.480469-12.300781-29.699219-12.300781s-21.765625 4.371094-29.699219 12.300781c-7.933594 7.933594-12.300781 18.480469-12.300781 29.699219s4.367187 21.765625 12.300781 29.699219 18.480469 12.300781 29.699219 12.300781c7.167969 0 14.058593-1.789062 20.171875-5.148437 32.203125 41.285156 49.878906 92.5625 49.878906 145.097656 0 130.132812-105.867188 236-236 236-15.664062 0-31.328125-1.542969-46.550781-4.589844-5.414063-1.082031-10.683594 2.429688-11.769531 7.84375-1.082032 5.417969 2.429687 10.683594 7.84375 11.769532 16.511718 3.300781 33.496093 4.976562 50.476562 4.976562 68.378906 0 132.667969-26.628906 181.019531-74.980469 48.351563-48.351562 74.980469-112.640625 74.980469-181.019531 0-57.523438-19.535156-113.660156-55.097656-158.664062zm-50.507813-7.726563c-4.15625-4.15625-6.445312-9.679687-6.445312-15.558594 0-5.875 2.289062-11.398437 6.445312-15.554687 4.152344-4.15625 9.679688-6.445313 15.554688-6.445313s11.402343 2.289063 15.558593 6.445313c8.574219 8.578125 8.574219 22.535156 0 31.113281-4.15625 4.152344-9.683593 6.441406-15.558593 6.441406-5.878907 0-11.402344-2.289062-15.554688-6.441406zm0 0"/><path d="m214.734375 428c0 5.523438 4.480469 10 10 10h62.527344c5.523437 0 10-4.476562 10-10v-19.386719c13.148437-3.539062 25.71875-8.75 37.53125-15.554687l13.6875 13.6875c1.875 1.875 4.417969 2.929687 7.074219 2.929687 2.648437 0 5.195312-1.054687 7.070312-2.933593l44.195312-44.226563c3.902344-3.90625 3.902344-10.238281 0-14.140625l-13.671874-13.671875c6.804687-11.8125 12.015624-24.382813 15.554687-37.53125h19.3125c5.523437 0 10-4.476563 10-10v-62.527344c0-5.523437-4.476563-10-10-10h-19.316406c-3.539063-13.144531-8.746094-25.714843-15.550781-37.527343l13.597656-13.597657c1.875-1.875 2.929687-4.421875 2.929687-7.074219-.003906-2.652343-1.058593-5.199218-2.933593-7.074218l-44.230469-44.195313c-3.902344-3.902343-10.234375-3.902343-14.140625.003907l-13.578125 13.582031c-11.8125-6.804688-24.382813-12.015625-37.53125-15.554688v-19.207031c0-5.523438-4.476563-10-10-10h-62.527344c-5.519531 0-10 4.476562-10 10v19.210938c-13.144531 3.535156-25.714844 8.746093-37.527344 15.550781l-13.582031-13.582031c-3.902344-3.902344-10.234375-3.90625-14.140625-.003907l-44.226563 44.199219c-1.878906 1.875-2.933593 4.417969-2.933593 7.070312 0 2.652344 1.054687 5.199219 2.929687 7.074219l13.597656 13.597657c-6.804687 11.8125-12.015624 24.378906-15.554687 37.527343h-19.277344c-5.523437 0-10 4.476563-10 9.996094l-.035156 62.527344c-.003906 2.652343 1.050781 5.199219 2.925781 7.074219s4.417969 2.929687 7.074219 2.929687h19.3125c3.539063 13.148437 8.75 25.71875 15.554687 37.53125l-13.671874 13.671875c-3.902344 3.902344-3.90625 10.234375 0 14.140625l44.195312 44.226563c1.875 1.875 4.417969 2.933593 7.070312 2.933593h.003907c2.652343 0 5.195312-1.054687 7.070312-2.929687l13.683594-13.6875c11.816406 6.804687 24.386719 12.015625 37.53125 15.554687zm-33.609375-55.972656c-3.957031-2.558594-9.164062-2.003906-12.5 1.328125l-12.175781 12.175781-30.058594-30.082031 12.164063-12.167969c3.332031-3.332031 3.886718-8.539062 1.328124-12.496094-9.066406-14.03125-15.441406-29.410156-18.941406-45.714844-.992187-4.605468-5.0625-7.898437-9.777344-7.898437h-17.175781l.023438-42.527344h17.152343c4.714844 0 8.785157-3.289062 9.777344-7.898437 3.5-16.300782 9.875-31.679688 18.941406-45.710938 2.558594-3.957031 2.003907-9.164062-1.328124-12.496094l-12.085938-12.089843 30.082031-30.058594 12.074219 12.078125c3.335938 3.332031 8.539062 3.882812 12.5 1.328125 14.027344-9.066406 29.40625-15.441406 45.710938-18.941406 4.605468-.992188 7.898437-5.066407 7.898437-9.777344v-17.078125h42.527344v17.074219c0 4.714843 3.289062 8.789062 7.898437 9.777343 16.300782 3.503907 31.683594 9.875 45.710938 18.941407 3.957031 2.558593 9.164062 2.007812 12.496094-1.328125l12.078124-12.074219 30.082032 30.058594-12.085938 12.085937c-3.335937 3.335938-3.886718 8.542969-1.328125 12.5 9.066407 14.03125 15.4375 29.410156 18.941407 45.710938.988281 4.609375 5.0625 7.898437 9.777343 7.898437h17.183594v42.527344h-17.183594c-4.714843 0-8.785156 3.292969-9.777343 7.898437-3.5 16.300782-9.875 31.683594-18.941407 45.710938-2.558593 3.960938-2.003906 9.167969 1.328125 12.5l12.164063 12.164062-30.058594 30.082032-12.175781-12.171875c-3.335938-3.335938-8.542969-3.886719-12.5-1.328125-14.03125 9.066406-29.410156 15.4375-45.710938 18.941406-4.609375.992188-7.898437 5.0625-7.898437 9.777344v17.253906h-42.527344v-17.253906c0-4.710938-3.292969-8.785156-7.898437-9.777344-16.300782-3.5-31.679688-9.875-45.710938-18.941406zm0 0"/><path d="m338.628906 256c0-45.5625-37.066406-82.628906-82.628906-82.628906s-82.628906 37.066406-82.628906 82.628906 37.066406 82.628906 82.628906 82.628906 82.628906-37.066406 82.628906-82.628906zm-145.257812 0c0-34.535156 28.09375-62.628906 62.628906-62.628906s62.628906 28.097656 62.628906 62.628906-28.09375 62.628906-62.628906 62.628906-62.628906-28.09375-62.628906-62.628906zm0 0"/><path d="m348.078125 37.820312c2.632813 0 5.210937-1.070312 7.070313-2.929687 1.859374-1.871094 2.929687-4.449219 2.929687-7.082031 0-2.617188-1.066406-5.199219-2.929687-7.070313-1.859376-1.859375-4.4375-2.929687-7.070313-2.929687-2.640625 0-5.207031 1.070312-7.066406 2.929687-1.863281 1.871094-2.933594 4.441407-2.933594 7.070313 0 2.640625 1.070313 5.210937 2.933594 7.082031 1.859375 1.859375 4.425781 2.929687 7.066406 2.929687zm0 0"/><path d="m164.359375 474.359375c-2.628906 0-5.210937 1.070313-7.070313 2.929687-1.859374 1.859376-2.929687 4.441407-2.929687 7.070313 0 2.640625 1.070313 5.210937 2.929687 7.070313 1.859376 1.859374 4.441407 2.929687 7.070313 2.929687s5.210937-1.070313 7.070313-2.929687c1.859374-1.859376 2.929687-4.441407 2.929687-7.070313s-1.070313-5.210937-2.929687-7.070313c-1.859376-1.859374-4.441407-2.929687-7.070313-2.929687zm0 0"/></svg>

              &nbsp; Fields & Skills
            </div>
            <div class="timeline">
              <div class="project-title2">
                <span>Field:</span>
              <select class="field-phase date-input" onchange="adjustSkill()">
                <option selected disabled value>choose field first</option>
                <option value="Artificial_Intelligence">Artificial-Intelligence</option>
                <option value="Back_end_Development">Back-end-Development</option>
                <option value="Cloud_Computing">Cloud-Computing</option>
                <option value="Computer_Graphics">Computer-Graphics</option>
                <option value="Cybersecurity">Cybersecurity</option>
                <option value="Deep_Learning">Deep-Learning</option>
                <option value="Embedded_Systems">Embedded-Systems</option>
                <option value="Front_end_Development">Front-end-Development</option>
                <option value="Game_Development">Game-Development</option>
                <option value="Machine_Learning">Machine-Learning</option>
              </select>
              <span>Skill:</span>
              <select class="skill-phase date-input">
              </select>
              <div onclick="addSkill()">Add skill</div>
            </div>
              <div class="skill-list">
              </div>
              <div onclick="addWholeProject()">Submit Project</div>
              <div class="error-msg" id="submit_error"></div>
            </div>
            
          </div>
        </div>

      </div>
    </div>
    <script>
      let timeline = [];
      let category = [];
      let developers = [];

      function adjustHeight(el){
        el.style.height = (el.scrollHeight > el.clientHeight) ? (el.scrollHeight)+"px" : "60px";
    }
    const SkillsOfField = {
      Artificial_Intelligence: ["SearchAlgorithms"], 
      Back_end_Development: ["NodeJs", "PHP", "FireBase"],
      Cloud_Computing: ["GoogleCloud", "Azure"],
      Computer_Graphics: ["OpenGL"],
      Cybersecurity: [""],  
      Deep_Learning: ["OpenCV", "Tensorflow"],
      Embedded_Systems: ["AVR", "ARM"],
      Front_end_Development: ["VueJS", "React", "Angular", "UI/UX", "Sass", "Flutter"],
      Game_Development: ["Unity", "Unreal"],
      Machine_Learning: ["Python"]
    };
    const ExtraForm = document.querySelector(".skill-phase");
    function adjustSkill(){
                  ExtraForm.innerHTML = SkillsOfField[document.querySelector(".field-phase").value].reduce(
                          (acc, elem) => `${acc}<option value="${elem}">${elem}</option>`,"");
    }

    async function addDev(){
      const UserName = document.querySelector(".dev-input").value;
      const role = document.querySelector(".role-input").value;
      const devs_error = document.querySelector("#devs_error");

      devs_error.textContent  = "";

      if (!UserName)
        devs_error.textContent = "You Must Enter a User Name"
      else if (!role)
        devs_error.textContent = "You Must Enter a Role";
      else
      {
          const res = await fetch('/check_new_user_name', {
          method: 'POST',
          body: JSON.stringify({ UserName}),
          headers: { 'Content-Type': 'application/json' }
        }); 

        const data = await res.json();
      
      if (data.found) {
        developers.push({UserName, role});

        document.querySelector("#developers-bar").innerHTML +=
      `<div class="review-head dev">
      <div class="reviewer-cont dev">
        <div class="review-title dev">${document.querySelector(".dev-input").value}</div>
        <div class="reviewer dev" style="font-family: sans-serif">
          <span class="creating-developer-role" style="color: #66a3ff">${document.querySelector(".role-input").value}</span>
        </div>
      </div>
    </div>`;
      document.querySelector(".dev-input").value = "";
      document.querySelector(".role-input").value = "";
      }
        else 
          devs_error.textContent = "Can't Find This User Name";

      }

      
    }
    function addPhase(){
      const phase = document.querySelector(".title-phase").value;
      const startDate = document.querySelector(".start-phase").value;
      const endDate = document.querySelector(".end-phase").value;
      const description = document.querySelector(".desc-phase").value;
      const timeline_error = document.querySelector("#timeline_error");
      timeline_error.textContent = "";

      if(!phase)
        timeline_error.textContent = "You Must Enter a Phase Name";
      else if(!startDate)
        timeline_error.textContent = "You Must Enter a Phase Start Date";
      else if(!endDate)
        timeline_error.textContent = "You Must Enter a Phase End Date";
      else if(startDate > endDate)
        timeline_error.textContent = "Start Date Must Be Greater Than In Date";
      else{

        timeline.push({phase, startDate, endDate, description});

      document.querySelector(".phasedate-list").innerHTML +=
      `<div class="phase-date">${document.querySelector(".start-phase").value} - ${document.querySelector(".end-phase").value}</div>`;
      document.querySelector(".start-phase").value = "";
      document.querySelector(".end-phase").value = "";
      document.querySelector(".phase-list").innerHTML +=
      `<div class="phase-cont">
        <svg width="24" class="phase-svg" height="35" viewBox="0 0 24 35" fill="none" xmlns="http://www.w3.org/2000/svg">
          <circle cx="12.5" cy="10.5" r="10.5" fill="#020F22"/>
          <circle cx="12.5" cy="10.5" r="5.5" transform="rotate(180 12.5 10.5)" stroke="white" stroke-width="2"/>
          <path d="M2 18L12.5 31L22 18.4062" stroke="white" stroke-width="4" stroke-linecap="round"/>
          </svg>  
        <div class="phase-title">${document.querySelector(".title-phase").value}</div>
        <div class="phase-desc">
          ${document.querySelector(".desc-phase").value}
        </div>
      </div></div>`;
      document.querySelector(".title-phase").value = "";
      document.querySelector(".desc-phase").value = "";
      }

    }
    function addSkill(){
      if(document.querySelector(".skill-phase").value.length > 0)
      {
        category.push({field : document.querySelector(".field-phase").value, skill : document.querySelector(".skill-phase").value});
        document.querySelector(".skill-list").innerHTML +=
      `<div class="filterIcon"><div>${document.querySelector(".field-phase").value} | ${document.querySelector(".skill-phase").value}</div></div>`;
      }
      
    }
    function changeRole(el){
      document.querySelector(".creating-developer-role").innerHTML = el.value;
    }
     addWholeProject  = async()=>{
  
      const projectName = document.querySelector("#projectName").value;
      const startDate = document.querySelector("#startDate").value;
      const endDate = document.querySelector("#endDate").value;
      const description = document.querySelector("#description").value;
      const logo = document.querySelector("#logo").value;
      const submit_error = document.querySelector("#submit_error");
      submit_error.textContent = "";

      const projectFirstImg = document.querySelector("#projectFirstImg").value;
      const projectSecondImg = document.querySelector("#projectSecondImg").value;
      const media = [];
     

      const userRole = document.querySelector("#userRole").value;
      const user = document.querySelector("#user").textContent;

      if (!projectName)
        submit_error.textContent = "You Must Enter a Project Name";
      else if (!startDate)
        submit_error.textContent = "You Must Enter a Start Date";
      else if(!endDate)
        submit_error.textContent = "You Must Enter an End Date";
      else if(!userRole)
        submit_error.textContent = "You Must Enter Your Role in Project";
      else if ((projectSecondImg || projectFirstImg) && projectSecondImg == projectFirstImg)
        submit_error.textContent = "Two Projects Images Must Have Diffrent Values"; 
      else if (startDate > endDate)
        submit_error.textContent = "Start Date Must Be Less than End date";       
      else
      {
          developers.push({UserName : user, role : userRole});


          if (projectFirstImg)
          media.push({link : projectFirstImg, name : "image"});
          if (projectSecondImg)
          media.push({link : projectSecondImg, name : "image"});

          const res = await fetch('/addProject', {
          method: 'POST',
          body: JSON.stringify({ projectName, startDate, endDate, description, logo,
                                projectFirstImg, projectSecondImg, developers , category, media, developers, timeline}),
          headers: { 'Content-Type': 'application/json' }
        });

        location.assign('/projects');
      }
    }

    
    </script>
  </body>
</html>
